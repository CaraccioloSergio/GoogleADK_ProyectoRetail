{% extends "admin_base.html" %}
{% block title %}Carrito #{{ cart.id }} - Admin{% endblock %}
{% block content %}
<h2>Carrito #{{ cart.id }}</h2>

<section class="detail-card">
  <h3>Resumen del carrito</h3>
  <p><strong>Usuario:</strong> {{ cart.user_name }} ({{ cart.user_email }})</p>
  <p>
    <strong>Estado:</strong>
    {% if cart.status == 'active' %}
      <span class="badge badge-success">{{ cart.status }}</span>
    {% elif cart.status == 'pending' %}
      <span class="badge badge-warning">{{ cart.status }}</span>
    {% else %}
      <span class="badge badge-danger">{{ cart.status }}</span>
    {% endif %}
  </p>
  <p><strong>Items:</strong> {{ cart.items_count }}</p>
  <p><strong>Total:</strong> ${{ "%.2f"|format(cart.total) }}</p>
  <p><strong>Creado:</strong> {{ cart.created_at }} &nbsp; | &nbsp; <strong>Actualizado:</strong> {{ cart.updated_at }}</p>
</section>

<section class="table-section">
  <h3>Productos en el carrito</h3>
  <table class="table">
    <thead>
      <tr>
        <th>SKU</th>
        <th>Producto</th>
        <th>Cantidad</th>
        <th>P. unitario</th>
        <th>Total l√≠nea</th>
      </tr>
    </thead>
    <tbody>
    {% for item in items %}
      <tr>
        <td>{{ item.sku }}</td>
        <td>{{ item.product_name }}</td>
        <td>{{ item.quantity }}</td>
        <td>${{ "%.2f"|format(item.unit_price) }}</td>
        <td>${{ "%.2f"|format(item.line_total) }}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</section>
{% endblock %}